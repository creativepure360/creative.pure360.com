import Link from "next/link";
import { useState, useEffect } from "react";
import { slide as Nav } from "react-burger-menu";

const Header = () => {
  const [backgroundColor, setBackgroundColor] = useState(true);
  const [width, setWidth] = useState("");
  const [isOpen, setIsOpen] = useState(false);

  const checkScrollHeight = () => {
    if (window.scrollY > 50) {
      setBackgroundColor(false);
    } else {
      setBackgroundColor(true);
    }
  };

  useEffect(() => {
    if (typeof window !== "undefined") {
      window.addEventListener("scroll", checkScrollHeight);
    }
    return () => window.removeEventListener("scroll", checkScrollHeight);
  }, []);

  const checkWidth = () => {
    if (window.innerWidth > 768) {
      setWidth("640px");
    } else {
      setWidth("100%");
    }
  };

  useEffect(() => {
    checkWidth();
    if (typeof window !== "undefined") {
      window.addEventListener("resize", checkWidth);
    }
    return () => window.removeEventListener("resize", checkWidth);
  }, []);
  return (
    <>
      <header className={`w-full fixed top-0 ${backgroundColor ? "bg-[#23afe6] hover:bg-white" : "bg-white"} z-[1] transition-all duration-300`}>
        <div className="h-[100px] flex items-center justify-between pr-[90px] pl-[30px]">
          <Link href={`/`} scroll={false}>
            <svg className="w-[128px] sm:w-[156px] duration-300 ease-in-out" fill="#002A4D" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 128 37">
              <path
                d="M53.7340164,7.3245616c-6.1864204,0-11.2014885,5.0098262-11.2014885,11.1898079
                s5.0150719,11.1898785,11.2014885,11.1898785s11.201561-5.0098953,11.201561-11.189518S59.9205093,7.3245616,53.7340164,7.3245616z
                M53.8141136,24.4286633c-3.230526,0.0048809-5.8533478-2.6033459-5.858242-5.8256321s2.6100006-5.8384237,5.8405266-5.8433037
                s5.8533516,2.6033449,5.858242,5.825634c0.0000038,0.0029411,0.0000076,0.0058842,0.0000076,0.0088272
                c0.0024719,3.2198296-2.6123924,5.8320141-5.8404541,5.8344765c-0.0000267,0-0.0000534,0-0.0000801,0V24.4286633z
                M103.1173325,7.2624149c-6.3451004,0-10.7763748,4.5538187-10.7763748,11.0755711
                c0,6.419014,4.7849426,11.0777988,11.37854,11.0777988c5.1904602,0,8.3583374-2.904232,8.4908676-3.0277348
                c0.1246796-0.1166382,0.1553955-0.3022099,0.074913-0.4526291l-1.9685745-3.647337
                c-0.0536804-0.0993195-0.1490555-0.1695194-0.2600327-0.1913986c-0.1106339-0.0197639-0.2244186,0.0093346-0.311882,0.0797482
                c-0.0252075,0.0208359-2.5426559,2.0697422-5.6636963,2.0697422c-3.2002869,0-5.3129196-1.7645378-5.7249298-4.7464371h13.7173538
                c0.1941757,0.0000591,0.3564758-0.1473465,0.3745499-0.3401909c0.0057602-0.053669,0.1231689-1.299551,0.1231689-1.9111042
                C112.5712357,11.1817608,108.86026,7.2624149,103.1173325,7.2624149z M98.5585632,15.3002644
                c0.5438309-2.2588406,2.1047058-3.4960299,4.4391937-3.4960299c2.0802231,0,3.4531021,1.3291521,3.6555099,3.4960299H98.5585632z
                M77.5611725,23.8794041c-0.1058807,0.0097694-0.3868027,0.01437-0.544548,0.01437
                c-1.4074631,0-3.7700424-0.4506187-3.7700424-3.4708843v-7.5525312h3.3573151l1.4024124-4.3328915
                c-0.047493-0.155797-0.1911316-0.2626114-0.3543854-0.2635317H73.246582V3.0790346
                c-0.0003128-0.121413-0.0589828-0.235312-0.1577454-0.3062799c-0.1001205-0.069978-0.1109238-0.168479-0.2240067-0.1280296
                h-4.998497c-0.1521988,0.0514417-0.4217377,0.5053651-0.4217377,0.6662283v17.7527313
                c0,7.2841854,6.2637024,8.070755,8.9569016,8.070755c0.46315,0,0.7952118-0.0262947,1.1503143-0.0546741l0.1296539-0.0109215
                c0.1964798-0.0151386,0.348114-0.1786861,0.3479004-0.3752499v-4.4500046
                c-0.0073166-0.2130737-0.1864166-0.3798923-0.400032-0.3725986c-0.0229263,0.000782-0.0457306,0.0035973-0.068161,0.0084095
                V23.8794041z M30.7724457,7.4106336c-3.1057796,0-4.9964867,1.3804498-6.0010853,2.4612298
                c0.0076332-0.0908136,0.0109482-0.1815538,0.0109482-0.2702131v-1.349844
                c0.0000801-0.2077055-0.1686211-0.3761702-0.3768597-0.3763289h-5.0479164
                c-0.208252,0.0001187-0.3769779,0.1686082-0.3768578,0.3763289v28.3720074
                C18.9805946,36.8314972,19.1493206,36.9999199,19.3575325,37h5.0479164
                c0.2082138-0.0000801,0.3769398-0.1685028,0.3768597-0.3761864v-8.6261959c0-0.2636032,0.0098686-0.4834518,0.0229778-0.6640015
                c0.8073826,0.8237152,2.6390991,2.2391529,5.6866055,2.2391529c5.7303982,0,9.7322254-4.5571251,9.7322254-11.0821819
                C40.2241173,11.8637962,36.4261322,7.4106336,30.7724457,7.4106336z M29.5662365,24.3757153
                c-3.2447968,0-4.722559-3.0672512-4.722559-5.9178867c0-4.480608,2.460392-6.0765238,4.763113-6.0765238
                c2.8263035,0,4.7247181,2.4262419,4.7247181,6.0371523C34.3315086,21.9812298,32.4165268,24.3757153,29.5662365,24.3757153z
                M91.1078033,23.8809109c-0.0950775,0.0086937-0.3226929,0.0130768-0.4718018,0.0130768
                c-1.3836823,0-3.7052002-0.451767-3.7052002-3.4719601V0.3961591c0.000412-0.2072852-0.1677246-0.3756574-0.3755417-0.3760699
                c-0.0420685-0.0000835-0.0838547,0.0068715-0.1236191,0.0205756L81.3629074,0
                c-0.1527023,0.0513699-0.2348175,0.4626886-0.2348175,0.6234801v20.4402046c0,7.2831059,6.2183228,8.0706825,8.8906326,8.0706825
                c0.4285736,0,0.6994095-0.0228462,1.00914-0.0491409l0.2052841-0.0175304
                c0.1958618-0.0152245,0.3470535-0.1781387,0.3471756-0.3741016v-4.4495735
                c-0.0073776-0.2130718-0.1865311-0.3798313-0.4001465-0.3724689C91.1558151,23.8723907,91.1315765,23.8755245,91.1078033,23.8809109
                z M48.9017601,7.3245616h-5.9993553c-0.2043953,0.0001183-0.3699951,0.1654868-0.3698769,0.36936
                c0,0.0000243,0,0.0000482,0,0.0000725v5.9931102C43.770546,10.8378115,46.0470428,8.5636997,48.9017601,7.3245616z
                M9.8256197,16.0081635c-1.7431192-0.6989908-3.2481093-1.3028564-3.2481093-2.1984901
                c0-1.0839415,1.2028971-1.46803,2.2337146-1.46803c2.9347801,0,5.3864565,1.7886076,5.4051123,1.8038387
                c0.0857458,0.0823174,0.2062912,0.1178579,0.3231249,0.0952682c0.1169262-0.0208206,0.2171936-0.0953569,0.2706165-0.20117
                l1.2455378-3.909646c0.0711479-0.1424227,0.0448208-0.314085-0.0657616-0.4287777
                C15.8934793,9.6016502,13.574337,7.262845,8.850626,7.262845c-4.9099083,0-8.2072144,2.5662689-8.2072144,6.3861799
                c0,4.1633358,3.6676106,5.6629791,6.6155005,6.8684845c1.7944055,0.7340508,3.3444848,1.3684502,3.3444848,2.350729
                c0,1.0141068-1.1622725,1.4669533-2.3147478,1.4669533c-3.1297655,0-6.4359303-2.25453-6.4578276-2.2763691
                c-0.1467201-0.1467438-0.3849238-0.1470661-0.5320427-0.0007191C1.280157,22.0766258,1.2635337,22.0970478,1.2491817,22.11903
                l-1.1884193,3.7089806c-0.0948246,0.1458721-0.0772021,0.337532,0.0426416,0.4637661
                c0.1205058,0.1269512,3.02244,3.1230755,8.2248602,3.1230755c4.8331957,0,8.2083664-2.6756191,8.2083664-6.5076008
                c-0.0002155-4.2070866-3.8793058-5.7625561-6.7110834-6.8990879H9.8256197z M127.7731094,7.7090821
                c-0.3299866-0.1295013-0.6805191-0.1991367-1.0350647-0.2056236c-2.3517761,0-4.3830109,1.134378-5.6831512,3.0750117V8.3844347
                c0.001152-0.2048626-0.1644058-0.3718681-0.3697968-0.3730192c-0.0006256-0.0000038-0.0012589-0.0000048-0.0018768-0.0000057
                h-4.9779816c-0.205307,0.000432-0.3713913,0.1667929-0.3709564,0.3715782c0,0.0004826,0.0000076,0.0009642,0.0000076,0.0014467
                v20.3755417c-0.001236,0.2047825,0.1641998,0.371788,0.3694992,0.3730164
                c0.0004883,0.0000057,0.0009689,0.0000076,0.0014496,0.0000076h4.9779816
                c0.2053833-0.0001144,0.3717957-0.1662846,0.3716812-0.3711491c0-0.0006256-0.0000076-0.0012493-0.0000076-0.0018749v-8.2686176
                c0-1.263485,0.0590591-2.2872906,0.3457489-3.1853657c0.9270172-2.9436779,3.2398911-3.992774,5.0968246-3.992774
                c0.3576965-0.0025511,0.7150497,0.0223331,1.0689163,0.0744324c0.108139,0.0171547,0.2184448-0.0131521,0.3025208-0.0831261
                c0.0834503-0.070981,0.1313858-0.1749725,0.1310883-0.2843657V8.052722
                C128.0007019,7.9030342,127.9112625,7.7675519,127.7731094,7.7090821z"
              />
            </svg>
          </Link>
          <Link className="font-opensans text-[14px] sm:text-[18px] leading-[22.4px] sm:leading-[28.8px] font-bold text-[#002a4d] bg-[#f3e400] hover:bg-[#002a4d] hover:text-[#23afe6] rounded-3xl inline-block select-none px-[15px] sm:px-[25px] py-[6px] sm:py-[9px] duration-300 ease-in-out" href="mailto:accountmanagers@spotler.co.uk?cc=creative@spotler.co.uk&subject=Creative%20services%20enquiry" scroll={false}>
            Get in touch
          </Link>
        </div>
        <Nav
          right
          width={width}
          styles={{
            bmBurgerButton: {
              position: "fixed",
              width: "30px",
              height: "20px",
              right: "30px",
              top: "40px",
            },
            bmBurgerBars: {
              background: "#002A4D",
            },
            bmBurgerBarsHover: {
              background: "#002A4D",
            },
            bmCrossButton: {
              width: "30px",
              height: "30px",
              right: "30px",
              top: "30px",
            },
            bmCross: {
              background: "#002a4d",
              width: "5px",
              height: "30px",
              left: "-4px",
              top: "0",
            },
            bmMenuWrap: {
              position: "fixed",
              top: 0,
            },
            bmMenu: {
              background: "#FFF",
              padding: "30px",
            },
            bmItemList: {
              display: "flex",
              flexDirection: "column",
            },
            bmItem: {
              display: 'inline-block'
            },
            bmOverlay: {
              background: "rgba(0, 0, 0, 0.5)",
              top: 0,
              left: 0,
            },
          }}
          isOpen={isOpen}
          onOpen={() => setIsOpen(true)}
          onClose={() => setIsOpen(false)}
        >
          <Link className="font-greycliff text-[#23afe6] text-[35px] leading-[38.5px] font-bold mb-4 hover:text-[#002a4d] transition duration-300" href={`/`} onClick={() => setIsOpen(false)}>
            Products
          </Link>
          <Link className="font-greycliff text-[#23afe6] text-[35px] leading-[38.5px] font-bold mb-4 hover:text-[#002a4d] transition duration-300" href={`/blog`} onClick={() => setIsOpen(false)}>
            Blog
          </Link>
        </Nav>
      </header>
    </>
  );
};

export default Header;
